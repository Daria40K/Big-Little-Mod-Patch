<?xml version='1.0' encoding='utf-8'?>
<Patch>
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Outer Rim - Core</li>
        </mods>
        <match Class="PatchOperationSequence">
            <operations>
                <li Class="PatchOperationConditional">
                    <xpath>Defs/ThingDef[defName="OuterRim_HypertechFabricator"][not(comps)]</xpath>
                    <match Class="PatchOperationAdd">
                        <xpath>Defs/ThingDef[defName="OuterRim_HypertechFabricator"]</xpath>
                        <value>
                            <comps>
                                <li Class="CompProperties_AffectedByFacilities">
                                    <linkableFacilities />
                                </li>
                            </comps>
                        </value>
                    </match>
                    <nomatch Class="PatchOperationConditional">
                        <xpath>Defs/ThingDef[defName="OuterRim_HypertechFabricator"]/comps[not(li[@Class="CompProperties_AffectedByFacilities"])]</xpath>
                        <match Class="PatchOperationAdd">
                            <xpath>Defs/ThingDef[defName="OuterRim_HypertechFabricator"]/comps</xpath>
                            <value>
                                <li Class="CompProperties_AffectedByFacilities">
                                    <linkableFacilities />
                                </li>
                            </value>
                        </match>
                    </nomatch>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>Defs/ThingDef[defName="OuterRim_HypertechResearchBench"]/comps/li[@Class="CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
                    <value>
                        <li MayRequire="neronix17.outerrim.csilla">OuterRim_ResearchCore_ChissAscendancy</li>
                        <li MayRequire="neronix17.outerrim.galacticempire">OuterRim_ResearchCore_GalacticEmpire</li>
                        <li MayRequire="neronix17.outerrim.galacticrepublic">OuterRim_ResearchCore_GalacticRepublic</li>
                        <li MayRequire="neronix17.outerrim.mandalore">OuterRim_ResearchCore_Mandalorian</li>
                        <li MayRequire="neronix17.outerrim.oldrepublic">OuterRim_ResearchCore_SithEmpire</li>
                        <li MayRequire="neronix17.outerrim.oldrepublic">OuterRim_ResearchCore_OldRepublic</li>
                        <li MayRequire="neronix17.outerrim.rebelalliance">OuterRim_ResearchCore_RebelAlliance</li>
                        <li MayRequire="zymex.hospitalsextended">LabStation</li>
                        <li MayRequire="zymex.hospitalsextended">LabStation</li>
                        <li MayRequire="zymex.hospitalsextended">LabTerminal</li>
                        <li MayRequire="zymex.hospitalsextended">LabTerminal</li>
                        <li MayRequire="explodoboy.snsambitioncosmic">SNS_Linkable_Unlocker_GenI</li>
                        <li MayRequire="explodoboy.snsambitioncosmic">SNS_Linkable_Unlocker_GenII</li>
                        <li MayRequire="explodoboy.snsambitioncosmic">SNS_Linkable_Unlocker_GenIII</li>
                        <li MayRequire="explodoboy.snsambitioncosmic">SNS_Linkable_Unlocker_POC</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_PersonalComputer</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_Still</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_Rotovape</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_TabletopCentrifuge</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_TabletopStove</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_TabletopLabMachine</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_TabletopOscilloscope</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_TabletopLabScanner</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_TabletopLabTubeRack</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_TabletopLabMicroscope</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_BotanicalEnclosure</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_ServerRack</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_Autoclave</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_Centrifuge</li>
                        <li MayRequire="rimeffect.core">RE_AllianceTerminal</li>
                        <li MayRequire="rimeffect.asarireapers">RE_AsariTerminal</li>
                        <li MayRequire="solaris.furniturebase">GL_Bookshelf</li>
                        <li MayRequire="thegoofyone.researchassistants">ResearchPad</li>
                        <li MayRequire="thegoofyone.researchassistants">ResearchComputer</li>
                        <li MayRequire="thegoofyone.researchassistants">ResearchSubAIComputer</li>
                        <li MayRequire="thegoofyone.researchassistants">ResearchAIComputer</li>
                        <li MayRequire="pkpenguin.superanalyzer">SuperMultiAnalyzer</li>
                        <li MayRequire="mrkociak.morearchotechstuffandthingsreupload">ArchoDecipherAI</li>
                        <li MayRequire="harkon.halo.unscfaction">HALO_UNSC_ResearchTerminal</li>
                        <li MayRequire="farxmai2.computersnotjunk">VED_AncientDatabase</li>
                        <li MayRequire="kentington.saveourship2">ArchotechUplink</li>
                        <li MayRequire="techraiding.velcroboy333">LostAnalyzer</li>
                        <li MayRequire="techraiding.velcroboy333">BrutalAnalyzer</li>
                        <li MayRequire="techraiding.velcroboy333">MechaAnalyzer</li>
                        <li MayRequire="xcomcore.velcroboy333">VBY_XCom_ShadowChamber</li>
                        <li MayRequire="nuanki.archoomnianalyzer">ArchoMultiAnalyzer</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_Incinerator</li>
                        <li MayRequire="rimeffect.core">RE_AllianceTerminal</li>
                        <li MayRequire="rimeffect.asarireapers">RE_AsariTerminal</li>
                        <li MayRequire="gloomy.furniture.continued">GL_Bookshelf</li>
                        <li MayRequire="albion.sparklingworlds.full">ComputingSystemSW</li>
                        <li MayRequire="albion.sparklingworlds.core">ComputingSystemSW</li>
                        <li MayRequire="spesscarp.commercialserver">ServerSilver</li>
                        <li MayRequire="spesscarp.commercialserver">ServerGold</li>
                        <li>MultiAnalyzer</li>
                        <li MayRequire="mlie.uncolonyvanilla">SadjuukResearchUpgradeAA</li>
                        <li MayRequire="mlie.uncolonyvanilla">SadjuukResearchUpgradeBA</li>
                        <li MayRequire="mlie.uncolonyvanilla">SadjuukResearchUpgradeBB</li>
                        <li MayRequire="mlie.uncolonyvanilla">SadjuukResearchUpgradeBC</li>
                        <li MayRequire="mlie.uncolonyvanilla">SadjuukResearchUpgradeCA</li>
                        <li MayRequire="mlie.uncolonyvanilla">SadjuukResearchUpgradeCB</li>
                        <li MayRequire="mlie.uncolonyvanilla">SadjuukResearchUpgradeCC</li>
                        <li MayRequire="mlie.uncolonyvanilla">SadjuukResearchUpgradeCD</li>
                        <li MayRequire="vanillaexpanded.vfecore">Misc_FileCabinet</li>
                        <li MayRequire="mlie.morefurniture">Anon2FileCabinet</li>
                        <li MayRequire="zal.morearchotechgarbage">ArchoDecipherAI</li>
                        <li MayRequire="dubwise.rimatomics">ResearchReactor</li>
                        <li MayRequire="dubwise.rimatomics">WeaponsBench</li>
                        <li MayRequire="dubwise.rimatomics">PlutoniumProcessor</li>
                        <li MayRequire="translucency.braininajar.latest">BrainInAJar</li>
                        <li MayRequire="translucency.braininajar.latest">DualBrain</li>
                        <li MayRequire="translucency.braininajar.latest">QuadBrain</li>
                        <li MayRequire="translucency.braininajar.latest">MasterBrain</li>
                        <li MayRequire="daylight.wbsmorelinkf">Link_ResearchGoods</li>
                        <li MayRequire="daylight.wbsmorelinkf">Link_ResearchBoost</li>
                        <li MayRequire="vanillaexpanded.vfemedical">Facility_ResearchCounter</li>
                        <li MayRequire="mlie.unfurniture">SadjuukResearchBA</li>
                        <li MayRequire="mlie.unfurniture">SadjuukResearchBB</li>
                        <li MayRequire="mlie.unfurniture">SadjuukResearchBC</li>
                        <li MayRequire="mlie.unfurniture">SadjuukResearchBD</li>
                        <li MayRequire="neronix17.outerrim.core">OuterRim_HypertechTerminal</li>
                        <li MayRequire="neronix17.outerrim.core">OuterRim_HypertechTerminalWide</li>
                        <li MayRequire="4loris4.morelinkables">AdvancedMultiAnalyzer</li>
                        <li MayRequire="4loris4.morelinkables">ToolCabinetC</li>
                        <li MayRequire="aelanna.eccentrictech.core">EccentricAuroraCore</li>
                        <li MayRequire="yanzihko.ae">ArchoAnalyzer</li>
                        <li MayRequire="drenzyme.curiouscurios">PotatoBattery</li>
                        <li MayRequire="drenzyme.curiouscurios">HeartInAJar</li>
                        <li MayRequire="drenzyme.curiouscurios">CC_RoyalJelly</li>
                        <li MayRequire="drenzyme.curiouscurios">Thrumbone</li>
                        <li MayRequire="mlie.hightechlaboratoryfacilities">LabStation</li>
                        <li MayRequire="mlie.hightechlaboratoryfacilities">LabStation</li>
                        <li MayRequire="mlie.hightechlaboratoryfacilities">LabTerminal</li>
                        <li MayRequire="mlie.hightechlaboratoryfacilities">LabTerminal</li>
                        <li MayRequire="aranmaho.makai">Makai_Powerlink_Relay</li>
                        <li MayRequire="happycam.multianalyzers">HCTechprintAnalyzer</li>
                        <li MayRequire="happycam.multianalyzers">HCLargeMultiAnalyzer</li>
                        <li MayRequire="happycam.multianalyzers">HCShardMultiAnalyzer</li>
                        <li MayRequire="happycam.multianalyzers">HCArchoMultiAnalyzer</li>
                        <li MayRequire="neronix17.outland.furnitureanddecor">Outland_StoneBookshelf</li>
                        <li MayRequire="neronix17.outland.furnitureanddecor">Outland_Bookshelf</li>
                        <li MayRequire="harkon.halo.unscfaction">HALO_UNSC_ResearchTerminal</li>
                        <li MayRequire="georodin.advancedcommercialserver">ServerRack</li>
                        <li MayRequire="albion.aiuplift">AIUpliftAssistantAUA</li>
                        <li MayRequire="akn.decorations">AKN_WallPapersA</li>
                        <li MayRequire="akn.decorations">AKN_WallPapersB</li>
                        <li MayRequire="akn.decorations">AKN_PaperNotesA</li>
                        <li MayRequire="akn.decorations">AKN_PaperNotesB</li>
                        <li MayRequire="akn.decorations">AKN_PaperNotesC</li>
                        <li MayRequire="scorpio.biotechnology">Biotechnology_DNAHologram</li>
                        <li MayRequire="qx.astramilitarum">ResCogitator</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_Autoclave</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_Centrifuge</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_Incinerator</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_PersonalComputer</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_Still</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_Rotovape</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_TabletopCentrifuge</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_TabletopStove</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_TabletopLabMachine</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_TabletopOscilloscope</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_TabletopLabScanner</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_TabletopLabTubeRack</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_TabletopLabMicroscope</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_BotanicalEnclosure</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_ServerRack</li>
                        <li MayRequire="grimworld.core">GW_Cogitator</li>
                        <li MayRequire="hol.rimputersforked">RP_DifferenceEngine</li>
                        <li MayRequire="hol.rimputersforked">RP_MechanicalCalculator</li>
                        <li MayRequire="hol.rimputersforked">RP_TapeStorage</li>
                        <li MayRequire="hol.rimputersforked">RP_Server</li>
                        <li MayRequire="hol.rimputersforked">RP_SuperComputer</li>
                        <li MayRequire="hol.rimputersforked">Rimputer_quantumcomputer</li>
                        <li MayRequire="joeyjoejoeshabidoo.rimputers1.4">RP_MechanicalCalculator</li>
                        <li MayRequire="joeyjoejoeshabidoo.rimputers1.4">RP_DifferenceEngine</li>
                        <li MayRequire="joeyjoejoeshabidoo.rimputers1.4">Colony Tape Storage</li>
                        <li MayRequire="joeyjoejoeshabidoo.rimputers1.4">RP_Server</li>
                        <li MayRequire="joeyjoejoeshabidoo.rimputers1.4">RP_SuperComputer</li>
                        <li MayRequire="joeyjoejoeshabidoo.rimputers1.4">Rimputer_quantumcomputer</li>
                        <li MayRequire="lyn.nto">LYN_Nanocabinet</li>
                        <li MayRequire="ninoss.rimservers">SERVERS_MakeshiftServer</li>
                        <li MayRequire="ninoss.rimservers">SERVERS_ResearchServer</li>
                        <li MayRequire="ninoss.rimservers">SERVERS_DoubleResearchServer</li>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>Defs/ThingDef[defName="OuterRim_HypertechFabricator"]/comps/li[@Class="CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
                    <value>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_Incinerator</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_CNCMachine</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_RobotAssistant</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_Spacer_Lathe</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_3DPrinter</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_Lathe</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_Vice</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_IndustrialOven</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_ConveyorBelt</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables">HobbesLink_LaserEngraver</li>
                        <li MayRequire="explodoboy.snsambitioncosmic">SNS_Linkable_CosmicDrawer_II</li>
                        <li MayRequire="explodoboy.snsambitioncosmic">SNS_Linkable_Unobtainer_I</li>
                        <li MayRequire="explodoboy.snsambitioncosmic">SNS_Linkable_CosmicDrawer_I</li>
                        <li MayRequire="explodoboy.snsambitioncosmic">SNS_Linkable_CosmicDrawer_III</li>
                        <li MayRequire="explodoboy.snsambitioncosmic">SNS_Linkable_CosmicCall_I</li>
                        <li MayRequire="explodoboy.snsambitioncosmic">SNS_Linkable_CosmicCall_II</li>
                        <li MayRequire="explodoboy.snsambitioncosmic">SNS_Linkable_CosmicCall_III</li>
                        <li MayRequire="mlie.uncolony">SadjuukShaper</li>
                        <li MayRequire="mlie.uncolony">SadjuukGrinding</li>
                        <li MayRequire="mlie.uncolony">SadjuukWeldingRobot</li>
                        <li MayRequire="mlie.uncolony">SadjuukLathe</li>
                        <li MayRequire="mlie.uncolony">SadjuukMilling</li>
                        <li MayRequire="mlie.uncolony">SadjuukAssemblyRobot</li>
                        <li>ToolCabinet</li>
                        <li MayRequire="vanillaexpanded.vfeproduction">VFE_FabricationCabinet</li>
                        <li MayRequire="daylight.rlesexpansionproductps">RLE_CMTCleaner</li>
                        <li MayRequire="daylight.rlesexpansionproductps">RLE_IntegratedManagementDevice</li>
                        <li MayRequire="daylight.rlesexpansionproductps">RLE_PowerStabilizer</li>
                        <li MayRequire="daylight.wbsmorelinkf">Link_FabricationBoost</li>
                        <li MayRequire="oskarpotocki.vanillavehiclesexpanded">VVE_GarageCabinet</li>
                        <li MayRequire="4loris4.morelinkables">ToolCabinetC</li>
                        <li MayRequire="4loris4.morelinkables">ToolCabinetA</li>
                        <li MayRequire="4loris4.morelinkables">ToolCabinetB</li>
                        <li MayRequire="elstrages.cyberneticstorm">CS_ReAnalyser</li>
                        <li MayRequire="ucp.tabletopdecorations">ucp_toolbox</li>
                        <li MayRequire="ucp.tabletopdecorations">ucp_screwdrivers</li>
                        <li MayRequire="ucp.tabletopdecorations">ucp_hammer</li>
                        <li MayRequire="ucp.tabletopdecorations">ucp_measure</li>
                        <li MayRequire="ucp.tabletopdecorations">ucp_aerosol</li>
                        <li MayRequire="ucp.tabletopdecorations">ucp_blueprint</li>
                        <li MayRequire="ucp.tabletopdecorations">ucp_wrench</li>
                        <li MayRequire="ucp.tabletopdecorations">ucp_roboarm</li>
                        <li MayRequire="twink.vaultfurniture">vtcompter</li>
                        <li MayRequire="twink.vaultfurniture">Vt_server</li>
                        <li MayRequire="arcjc007.wallstuff">WallToolBoard</li>
                        <li MayRequire="neronix17.outland.core">Outland_BasicWorkbench</li>
                        <li MayRequire="neronix17.outland.core">Outland_Forge</li>
                        <li MayRequire="neronix17.outland.core">Outland_Grindstone</li>
                        <li MayRequire="akn.decorations">AKN_MotivatingPlush</li>
                        <li MayRequire="qx.astramilitarum">ManCogitator</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_CNCMachine</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_3DPrinter</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_Spacer_Lathe</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_Vice</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_LaserEngraver</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_IndustrialOven</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_ConveyorBelt</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_Incinerator</li>
                        <li MayRequire="hobbes.bamba.evenmorelinkables16">HobbesLink_RobotAssistant</li>
                        <li MayRequire="grimworld.core">GW_VehicleToolCabinet</li>
                        <li MayRequire="mlie.tacticalchargedgear">TCToolCabinet</li>
                        <li MayRequire="daylight.wbsmorelinkf">Link_UniversalCabinet</li>
                        <li MayRequire="lyn.nto">LYN_Nanocabinet</li>
                        <li MayRequire="xion.moretoolboxes">T2ToolCabinet</li>
                        <li MayRequire="xion.moretoolboxes">T3ToolCabinet</li>
                        <li MayRequire="xion.moretoolboxes">T4ToolCabinet</li>
                        <li MayRequire="xion.moretoolboxes">T5ToolCabinet</li>
                        <li MayRequire="xion.moretoolboxes">T6ToolCabinet</li>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>
</Patch>