<?xml version='1.0' encoding='utf-8'?>
<Patch>
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Fast regen 1.6</li>
        </mods>
        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationConditional">
                    <xpath>Defs/ThingDef[defName="AnimalMedicRobo"][not(comps)]</xpath>
                    <match Class="PatchOperationAdd">
                        <xpath>Defs/ThingDef[defName="AnimalMedicRobo"]</xpath>
                        <value>
                            <comps>
                                <li Class="CompProperties_AffectedByFacilities">
                                    <linkableFacilities />
                                </li>
                            </comps>
                        </value>
                    </match>
                    <nomatch Class="PatchOperationConditional">
                        <xpath>Defs/ThingDef[defName="AnimalMedicRobo"]/comps[not(li[@Class="CompProperties_AffectedByFacilities"])]</xpath>
                        <match Class="PatchOperationAdd">
                            <xpath>Defs/ThingDef[defName="AnimalMedicRobo"]/comps</xpath>
                            <value>
                                <li Class="CompProperties_AffectedByFacilities">
                                    <linkableFacilities />
                                </li>
                            </value>
                        </match>
                    </nomatch>
                </li>
                <li Class="PatchOperationConditional">
                    <xpath>Defs/ThingDef[defName="AnimalMedic"][not(comps)]</xpath>
                    <match Class="PatchOperationAdd">
                        <xpath>Defs/ThingDef[defName="AnimalMedic"]</xpath>
                        <value>
                            <comps>
                                <li Class="CompProperties_AffectedByFacilities">
                                    <linkableFacilities />
                                </li>
                            </comps>
                        </value>
                    </match>
                    <nomatch Class="PatchOperationConditional">
                        <xpath>Defs/ThingDef[defName="AnimalMedic"]/comps[not(li[@Class="CompProperties_AffectedByFacilities"])]</xpath>
                        <match Class="PatchOperationAdd">
                            <xpath>Defs/ThingDef[defName="AnimalMedic"]/comps</xpath>
                            <value>
                                <li Class="CompProperties_AffectedByFacilities">
                                    <linkableFacilities />
                                </li>
                            </value>
                        </match>
                    </nomatch>
                </li>
                <li Class="PatchOperationAdd">
                    <xpath>Defs/ThingDef[defName="HerbBede" or defName="MedBed" or defName="IIMed" or defName="AnimalMedicRobo" or defName="AnimalMedic"]/comps/li[@Class="CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
                    <value>
                        <li MayRequire="knight.medicalivs">IV_Blood</li>
                        <li MayRequire="knight.medicalivs">IV_Nutrition</li>
                        <li MayRequire="knight.medicalivs">IV_Painkiller</li>
                        <li MayRequire="knight.medicalivs">IV_Antibiotics</li>
                        <li MayRequire="knight.medicalivs">IV_Anesthetic</li>
                        <li MayRequire="knight.medicalivs">IV_Blood_Electric</li>
                        <li MayRequire="knight.medicalivs">IV_Nutrition_Electric</li>
                        <li MayRequire="knight.medicalivs">IV_Painkiller_Electric</li>
                        <li MayRequire="knight.medicalivs">IV_Antibiotics_Electric</li>
                        <li MayRequire="knight.medicalivs">IV_Anesthetic_Electric</li>
                        <li MayRequire="knight.medicalivs">IV_Multi_Electric</li>
                        <li MayRequire="vanillaexpanded.vfea">VFEA_AncientVitalsMonitor</li>
                        <li MayRequire="zymex.hospitalsextended">CCP_LEDMedLight</li>
                        <li MayRequire="zymex.hospitalsextended">sd_medicaddons_medieval_surg_washpan</li>
                        <li MayRequire="zymex.hospitalsextended">sd_medicaddons_medieval_surg_instruments</li>
                        <li MayRequire="zymex.hospitalsextended">sd_medicaddons_medieval_surg_lamp</li>
                        <li MayRequire="zymex.hospitalsextended">sd_medicaddons_industrial_surg_instruments</li>
                        <li MayRequire="zymex.hospitalsextended">sd_medicaddons_industrial_surg_lamp</li>
                        <li MayRequire="zymex.hospitalsextended">sd_medicaddons_spacer_surg_vitalsmonitor</li>
                        <li MayRequire="zymex.hospitalsextended">sd_medicaddons_spacer_surg_instruments</li>
                        <li MayRequire="zymex.hospitalsextended">sd_medicaddons_spacer_surg_lamp</li>
                        <li MayRequire="zymex.hospitalsextended">Wall_VitalsMonitor</li>
                        <li MayRequire="zymex.hospitalsextended">Spacer_Wall_VitalsMonitor</li>
                        <li MayRequire="moistestwhale.gitscyberneticequipment">gitsAnchorConsole</li>
                        <li>VitalsMonitor</li>
                        <li MayRequire="mlie.sdmedicaddons">sd_medicaddons_medieval_surg_washpan</li>
                        <li MayRequire="mlie.sdmedicaddons">sd_medicaddons_medieval_surg_instruments</li>
                        <li MayRequire="mlie.sdmedicaddons">sd_medicaddons_medieval_surg_lamp</li>
                        <li MayRequire="mlie.sdmedicaddons">sd_medicaddons_industrial_surg_instruments</li>
                        <li MayRequire="mlie.sdmedicaddons">sd_medicaddons_industrial_surg_lamp</li>
                        <li MayRequire="mlie.sdmedicaddons">sd_medicaddons_spacer_surg_vitalsmonitor</li>
                        <li MayRequire="mlie.sdmedicaddons">sd_medicaddons_spacer_surg_instruments</li>
                        <li MayRequire="mlie.sdmedicaddons">sd_medicaddons_spacer_surg_lamp</li>
                        <li MayRequire="daylight.rimlifeexfurmod">RLE_AirCondition</li>
                        <li MayRequire="mlie.uncolonyvanilla">SadjuukHospitalUpgradeBA</li>
                        <li MayRequire="mlie.uncolonyvanilla">SadjuukHospitalUpgradeBB</li>
                        <li MayRequire="mlie.uncolonyvanilla">SadjuukHospitalUpgradeCA</li>
                        <li MayRequire="mlie.uncolonyvanilla">SadjuukHospitalUpgradeCB</li>
                        <li MayRequire="mlie.uncolonyvanilla">SadjuukHospitalUpgradeCD</li>
                        <li MayRequire="mlie.uncolonyvanilla">SadjuukHospitalUpgradeCE</li>
                        <li MayRequire="akaster.ivdruginfuser">IVDrugInfuser</li>
                        <li MayRequire="kenobirock.bacta">MedicalStandDroid</li>
                        <li MayRequire="cantaloupetheclown.medicalivsfork">IV_Blood</li>
                        <li MayRequire="cantaloupetheclown.medicalivsfork">IV_Nutrition</li>
                        <li MayRequire="cantaloupetheclown.medicalivsfork">IV_Painkiller</li>
                        <li MayRequire="cantaloupetheclown.medicalivsfork">IV_Antibiotics</li>
                        <li MayRequire="cantaloupetheclown.medicalivsfork">IV_Blood_Electric</li>
                        <li MayRequire="cantaloupetheclown.medicalivsfork">IV_Nutrition_Electric</li>
                        <li MayRequire="cantaloupetheclown.medicalivsfork">IV_Painkiller_Electric</li>
                        <li MayRequire="cantaloupetheclown.medicalivsfork">IV_Antibiotics_Electric</li>
                        <li MayRequire="cantaloupetheclown.medicalivsfork">IV_Anesthetic</li>
                        <li MayRequire="cantaloupetheclown.medicalivsfork">IV_Anesthetic_Electric</li>
                        <li MayRequire="cantaloupetheclown.medicalivsfork">IV_Multi_Electric</li>
                        <li MayRequire="mlie.cts">CTSAdvancedVitalsMonitor</li>
                        <li MayRequire="vanillaexpanded.vfemedical">Facility_VitalsCentre</li>
                        <li MayRequire="vanillaexpanded.vfemedical">Facility_IVDrip</li>
                        <li MayRequire="oskarpotocki.vfe.medieval2">VFEM2_SurgicalTools</li>
                        <li MayRequire="mlie.unfurniture">SadjuukSurgeryAA</li>
                        <li MayRequire="mlie.unfurniture">SadjuukSurgeryAB</li>
                        <li MayRequire="mlie.unfurniture">SadjuukSurgeryAC</li>
                        <li MayRequire="mlie.unfurniture">SadjuukSurgeryAD</li>
                        <li MayRequire="4loris4.morelinkables">SurgicalInstruments</li>
                        <li MayRequire="4loris4.morelinkables">SurgicalLamp</li>
                        <li MayRequire="leion247138.medicalhiv">MedicalIV</li>
                        <li MayRequire="ushanka.luciferiumexpansion">USH_LuciferiumMedicalSimulator</li>
                        <li MayRequire="twink.vaultfurniture">Vaultmedical</li>
                        <li MayRequire="twink.vaultfurniture">Vaultmedicallamp</li>
                        <li MayRequire="akn.decorations">AKN_RestoringPlush</li>
                        <li MayRequire="mlie.medicalsupplements">MS_DStand</li>
                        <li MayRequire="salvador143.mthings.medical">MThingsMedicalHealerStand</li>
                        <li MayRequire="tyll.valley">TY_A_XG_LBTreatmentStation_Building</li>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>
</Patch>